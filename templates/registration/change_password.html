{% extends 'base.html' %}

{% block content %}
  <h2 class="text-center mt-4">Change Password</h2>
  <form class="mx-auto mt-4" style="width: 450px" method="post" action="{% url 'change_password' %}">
    {% csrf_token %}

    <!-- Old password input -->
    <div class="form-outline mb-4">
      <input type="password" id="id_old_password" name="old_password" class="form-control" autocomplete="current-password" required />
      <label class="form-label" for="id_old_password">Old password</label>
      {% if form.old_password.errors %}
        {% for error in form.old_password.errors %} 
          <p class="text-danger">{{ error|escape }}</p>
        {% endfor %}
      {% endif %}
    </div>

    <!-- New password input -->
    <div class="form-outline mb-4">
      <input type="password" id="id_new_password1" name="new_password1" class="form-control" autocomplete="new-password" required />
      <label class="form-label" for="id_new_password1">New password</label>
      {% if form.new_password1.errors %}
        {% for error in form.new_password1.errors %}
          <p class="text-danger">{{ error|escape }}</p>
        {% endfor %}
      {% endif %}
    </div>

    <!-- Confirm password -->
    <div class="form-outline mb-4">
      <input type="password" id="id_new_password2" name="new_password2" class="form-control" autocomplete="new-password" required />
      <label class="form-label" for="id_new_password2">New password confirmation</label>
      {% if form.new_password2.errors %}
        {% for error in form.new_password2.errors %} 
          <p class="text-danger">{{ error|escape }}</p>
        {% endfor %}
      {% endif %}
    </div>

    <button type="submit" class="btn btn-primary btn-block mb-4 w-100">Save Changes</button>
  </form>
{% endblock content %}
